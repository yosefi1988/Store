@using WebApplicationStore.Models.StoreDbModels
@using WebApplicationStore.Models.ViewModels.CustomModels
@model WebApplicationStore.Models.ViewModels.ShoppingBasketDetails

@{
    ViewData["Title"] = "Index";
}

<h1>Index</h1>

<div>
    <h4>Shoping Basket</h4>
    <hr />
    <dl class="row">
    </dl>
</div>
<div>
    <a asp-action="Edit" asp-route-id="@Model?.Id">Edit</a> |
    <a asp-action="Index">Back to List</a>
</div>
<hr />
    Baskets :
<br />
@foreach (ViewUserBasketCustom item in Model.baskets)
{
    <div>
        @item.ShoppingBasketId
        @item.UserId
        @item.BasketStatusId
        @item.BasketStatus

        @item.isSelected

        @Html.ActionLink("مشاهده این سبد ", "Index", "ShoppingBaskets", new { userId = @item.UserId, basketId = @item.ShoppingBasketId }, null)
        <a href="@Url.Action("Index", "ShoppingBaskets", new { id =  @item.UserId })">مشاهده این سبد </a>|
        <a href="@Url.Action("RemoveFromBasket", "Home", new { userId =  User.Identity.Name  , _productChargePropertiesId =  @item.Id , basketId =  0 })">حذف از سبد</a>

        <hr />
    </div>
}
<hr />
<hr />
    Basket Objects :
<br />
@foreach (ViewUserBasketsObject item in Model.basketObjects)
{
    <div>           
        @item.Id
        @item.ShoppingBasketId
        @item.UserId
        @item.ProductName
        @item.ProductCode
        @item.Tax
        @item.TaxPercentage
        @item.PercentInterest
        @item.PercentWages
        @item.Color
        @item.ColorCode
        @item.Discount
        @item.RemainingCount
        @item.ProductChargePropertiesId
        @item.ProductChargeId
        @item.ProductId
        @item.Price
        @item.OldPrice
        @item.Count
        @item.AddInToBasketDate
        @item.BasketStatusId
        @item.BasketStatus

        @Html.ActionLink("مشاهده این ", "Index", "controler", new { id = @item.UserId }, null)
        <a href="@Url.Action("Index", "ProductDetials", new { id =  @item.UserId })">مشاهده این </a>
        <hr />

        <a href="@Url.Action("Payment", "ProductDetials", new { id =  @item.UserId })">پرداخت و نهایی کردن خرید</a>


    </div>
}
<hr /> 